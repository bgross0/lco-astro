---
import Button from '../common/Button.astro';
import Icon from '../common/Icon.astro';
import contentData from '../../content/homepage/content.json';

const { about } = contentData;
---

<section class="about">
  <div class="container">
    <div class="about__grid">
      <div class="about__content">
        <h2 class="about__title">
          {about.title}
        </h2>

        {about.paragraphs.map((paragraph) => (
          <p class="about__text">
            {paragraph}
          </p>
        ))}

        <div class="about__features">
          {about.features.map((feature) => (
            <div class="about__feature">
              <Icon name={feature.icon} size={24} class="about__feature-icon" />
              <span>{feature.text}</span>
            </div>
          ))}
        </div>

        <div class="about__actions">
          <Button href={about.buttonLink || "/contact"} variant="primary">
            {about.buttonText || "Get Started Today"}
          </Button>
        </div>
      </div>

      <div class="about__images">
        <div class="about__image-grid">
          {about.images && about.images.map((image, index) => (
            <img
              src={image.src}
              alt={image.alt}
              class={`about__image about__image--${index + 1}`}
              loading="lazy"
              width="400"
              height="300"
            />
          ))}
        </div>
      </div>
    </div>
  </div>
</section>

<style>
  .about {
    padding: var(--space-12) 0;
  }

  .about__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--space-12);
    align-items: center;
  }

  .about__title {
    color: var(--secondary);
    margin-bottom: var(--space-6);
  }

  .about__text {
    font-size: var(--text-lg);
    color: var(--neutral-dark);
    line-height: 1.7;
  }

  .about__features {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-4);
    margin: var(--space-8) 0;
  }

  .about__feature {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    font-weight: var(--font-medium);
    color: var(--neutral-dark);
  }

  .about__feature-icon {
    flex-shrink: 0;
    color: var(--accent);
  }

  .about__actions {
    margin-top: var(--space-8);
  }

  .about__images {
    display: none;
  }

  .about__image-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-4);
    align-items: center;
  }

  .about__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-lg);
  }

  .about__image--1 {
    transform: translateY(-20px);
  }

  .about__image--2 {
    transform: translateY(20px);
  }

  @media (max-width: 768px) {
    .about__text {
      font-size: var(--text-base);
    }

    .about__feature {
      padding: var(--space-2);
    }
  }

  @media (min-width: 768px) {
    .about {
      padding: var(--space-16) 0;
    }
  }

  @media (min-width: 1024px) {
    .about {
      padding: var(--space-20) 0;
    }

    .about__grid {
      grid-template-columns: 1fr 1fr;
    }

    .about__images {
      display: block;
    }
  }
</style>
