---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/home/HeroBootstrap.astro';
import ServicesGrid from '../components/home/ServicesGrid.astro';
import AboutSection from '../components/home/AboutSection.astro';
import ClientSatisfaction from '../components/home/ClientSatisfaction.astro';
import EquipmentSection from '../components/home/EquipmentSection.astro';
import TestimonialsSection from '../components/testimonials/TestimonialsSection.astro';
import CTABanner from '../components/home/CTABanner.astro';
---

<BaseLayout>
  <Hero />
  <ServicesGrid />
  <AboutSection />
  <ClientSatisfaction />
  <EquipmentSection />
  <TestimonialsSection />
  <CTABanner />
</BaseLayout>

<script>
  // Handle Netlify Identity redirect
  if (window.netlifyIdentity) {
    window.netlifyIdentity.on("init", (user) => {
      if (!user) {
        window.netlifyIdentity.on("login", () => {
          document.location.href = "/admin/";
        });
      }
    });
  }
</script>
